# 剪刀石头布游戏

一个支持多种对战模式的在线剪刀石头布游戏，包括本地玩家对战、人机对战和在线多人对战。

## 功能特性

- **玩家对战模式**：两名玩家在同一设备上进行对战
- **人机对战模式**：玩家与电脑随机选择进行对战
- **在线对战模式**：通过房间密钥实现远程多人对战
- **实时同步**：使用WebSocket实现实时游戏状态同步
- **局域网支持**：支持局域网内设备访问

## 技术栈

- **前端**：HTML5, CSS3, JavaScript
- **后端**：Node.js
- **实时通信**：WebSocket (ws库)
- **静态文件服务**：Node.js HTTP服务器

## 安装和运行

### 1. 安装依赖

```bash
npm install
```

### 2. 启动服务器

```bash
npm start
```

服务器启动后会显示：
- HTTP服务器运行在 http://0.0.0.0:3000
- WebSocket服务器运行在 ws://0.0.0.0:8080
- 本地访问: http://localhost:3000
- 局域网访问: http://<本机IP>:3000

### 3. 访问游戏

在浏览器中打开 `http://localhost:3000` 开始游戏。

## 游戏模式说明

### 玩家对战

1. 选择"玩家对战"模式
2. 玩家1先选择剪刀、石头或布
3. 玩家2再选择
4. 系统显示双方选择和胜负结果

### 人机对战

1. 选择"人机对战"模式
2. 玩家选择剪刀、石头或布
3. 电脑随机选择
4. 系统显示双方选择和胜负结果

### 在线对战

1. **玩家1**：
   - 选择"在线对战"模式
   - 输入房间密钥（例如："room123"）
   - 点击"加入房间"
   - 等待对手加入

2. **玩家2**：
   - 在另一台设备上访问游戏（使用服务器IP地址）
   - 选择"在线对战"模式
   - 输入相同的房间密钥
   - 点击"加入房间"
   - 游戏开始

3. 游戏规则：
   - 双方都选择后才显示结果
   - 可以进行多轮对战
   - 对手断线会自动通知

## 获取本机IP地址

### Windows
```bash
ipconfig
```
找到IPv4地址（例如：192.168.1.100）

### macOS/Linux
```bash
ifconfig
```
找到inet地址

## 项目结构

```
jiandao/
├── index.html          # 前端页面
├── server.js          # 服务器端代码
├── package.json       # 项目配置
├── .gitignore        # Git忽略文件
└── README.md         # 项目说明
```

## 部署到GitHub Pages（仅前端）

如果只需要部署前端页面（仅支持玩家对战和人机对战）：

1. 将 `index.html` 推送到GitHub仓库
2. 在GitHub仓库设置中启用GitHub Pages
3. 选择 `main` 分支作为源

## 部署到服务器（完整功能）

要部署完整的在线对战功能，需要：

1. 将代码推送到GitHub仓库
2. 在服务器上克隆仓库
3. 安装依赖：`npm install`
4. 启动服务器：`npm start`
5. 使用PM2或其他进程管理工具保持服务器运行

### 使用PM2部署

```bash
npm install -g pm2
pm2 start server.js --name "rock-paper-scissors"
pm2 save
pm2 startup
```

## 开发说明

- HTTP服务器端口：3000
- WebSocket服务器端口：8080
- 可以在 `server.js` 中修改端口号

## 许可证

MIT

## 作者

剪刀石头布游戏